<!DOCTYPE html>
<html lang="en" class="dark" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Asset Generator</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <script>
        tailwind.config = {
          darkMode: 'class',
          theme: {
            extend: {
              colors: {
                bg: '#0b0d10',
                panel: '#11141a',
                border: '#1f2430',
                accent: '#ff0033'
              }
            }
          }
        }
    </script>

    <style>
        body {
          background:
            radial-gradient(800px at 20% 10%, rgba(255,0,51,.08), transparent 40%),
            radial-gradient(600px at 80% 80%, rgba(255,255,255,.04), transparent 40%),
            #0b0d10;
        }

        .panel {
          background: linear-gradient(180deg, rgba(20,24,34,.9), rgba(15,18,26,.9));
          border: 1px solid #1f2430;
          box-shadow: 0 40px 120px rgba(0,0,0,.8);
        }

        .glow {
          box-shadow:
            0 0 0 1px rgba(255,0,51,.15),
            0 30px 80px rgba(255,0,51,.25);
        }

        .tag {
          backdrop-filter: blur(10px);
          background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
          border: 1px solid rgba(255,255,255,.15);
          border-radius: 999px;
          transition: all .2s ease;
        }
        .tag:hover {
          border-color: #ff0033;
          color: #ff0033;
        }

        @keyframes cinematicFade {
          from { opacity: 0; transform: translateY(28px) scale(.97); }
          to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .cinematic-enter {
          animation: cinematicFade 1.2s cubic-bezier(.2,.8,.2,1) both;
        }

        .magnetic {
          transition: transform .25s ease, box-shadow .25s ease;
        }
        .magnetic:hover {
          transform: translateY(-2px) scale(1.03);
          box-shadow: 0 24px 70px rgba(255,0,51,.35);
        }

        /* SPLASH */
        @keyframes logoPop {
          0% { opacity: 0; transform: scale(.85); filter: blur(6px); }
          60% { opacity: 1; transform: scale(1.05); filter: blur(0); }
          100% { transform: scale(1); }
        }
        .animate-logo-pop {
          animation: logoPop 1s cubic-bezier(.25,.8,.25,1) forwards;
        }

        @keyframes glowPulse {
          from { opacity: 0; transform: scale(.6); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-glow-pulse {
          animation: glowPulse 1.2s ease-out forwards;
        }

        .splash-hide {
          opacity: 0;
          pointer-events: none;
          transition: opacity .6s ease;
        }
    </style>
</head>

<body class="min-h-screen text-slate-200">

<!-- SPLASH -->
<div id="splash" class="fixed inset-0 z-[9999] flex items-center justify-center bg-[#0b0d10]">
    <div class="text-center">
        <div class="text-4xl md:text-5xl font-black text-white animate-logo-pop">
            Kurzo <span class="text-[#ff0033]">YouTube</span> Tools
        </div>
        <div class="mt-8 w-72 h-24 mx-auto bg-[#ff0033]/20 blur-[120px] rounded-full animate-glow-pulse"></div>
    </div>
</div>

<!-- BG GLOW -->
<div class="fixed inset-0 -z-10 pointer-events-none">
    <div class="absolute top-32 left-1/2 -translate-x-1/2 w-[720px] h-[320px] bg-[#ff0033]/10 blur-[160px] rounded-full"></div>
</div>

<div th:replace="~{fragments/navbar :: navbar}" th:with="activePage='home'"></div>

<div class="cinematic-enter">

    <!-- HERO -->
    <section class="max-w-6xl mx-auto px-6 pt-28 pb-24 text-center">
        <h1 class="text-6xl md:text-7xl font-black text-white mb-8">
            YouTube Asset Generator
        </h1>
        <p class="max-w-2xl mx-auto text-lg text-slate-400">
            Generate SEO tags, thumbnails and metadata with cinematic precision.
        </p>
    </section>

    <!-- FORM -->
    <section class="max-w-4xl mx-auto px-6 pb-32">
        <div class="panel rounded-3xl p-10 glow">
            <form action="/youtube/search" method="post">
                <label class="block text-sm text-slate-400 mb-3">YouTube Video Title</label>
                <input type="text" name="VideoTitle" required
                       class="w-full px-6 py-5 rounded-xl bg-[#0e1118] border border-[#222836]
               text-white text-lg placeholder:text-slate-500
               focus:outline-none focus:border-[#ff0033] transition">
                <button type="submit"
                        class="magnetic mt-8 w-full py-5 rounded-xl bg-[#ff0033] font-semibold">
                    Generate SEO Tags
                </button>
            </form>
        </div>
    </section>

    <!-- RESULTS -->
    <div class="max-w-5xl mx-auto px-6 pb-32">

        <!-- ERROR -->
        <div th:if="${error}"
             class="bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-6 text-red-400"
             th:text="${error}"></div>

        <!-- PRIMARY -->
        <div th:if="${primaryVideo != null}" class="panel rounded-3xl p-8 mb-20">
            <div class="flex justify-between mb-6">
                <h2 class="text-xl font-semibold">Primary Video Tags</h2>
                <button th:onclick="'copyTags(\\'' + ${primaryVideo.tagsAsString} + '\\')'"
                        class="magnetic px-4 py-2 rounded-lg border border-[#222836]">Copy</button>
            </div>

            <p class="text-slate-400 mb-1" th:text="${primaryVideo.title}"></p>
            <p class="text-slate-500 mb-6" th:text="${primaryVideo.channelTitle}"></p>

            <div class="flex flex-wrap gap-2">
    <span th:each="tag : ${primaryVideo.tags}" class="tag px-4 py-2 text-sm">
      #<span th:text="${tag}"></span>
    </span>
            </div>
        </div>
    </div>

    <!-- RELATED -->
    <section th:if="${relatedVideos != null and !relatedVideos.isEmpty()}"
             class="max-w-5xl mx-auto px-6 pb-32">

        <h2 class="text-2xl font-semibold text-center mb-10">Related Videos</h2>

        <div class="space-y-12">
            <div th:each="video : ${relatedVideos}" class="panel rounded-3xl p-8 max-w-4xl mx-auto">
                <div class="flex justify-between mb-6">
                    <div>
                        <p class="text-lg font-medium" th:text="${video.title}"></p>
                        <p class="text-sm text-slate-500" th:text="${video.channelTitle}"></p>
                    </div>
                    <button th:onclick="'copyTags(\\'' + ${video.tagsAsString} + '\\')'"
                            class="magnetic px-4 py-2 rounded-lg border border-[#222836]">Copy</button>
                </div>

                <div class="flex flex-wrap gap-2">
    <span th:each="tag : ${video.tags}" class="tag px-4 py-2 text-sm">
      #<span th:text="${tag}"></span>
    </span>
                </div>
            </div>
        </div>
    </section>

</div>

<!-- CURSOR GLOW -->
<div id="cursorGlow"
     class="pointer-events-none fixed w-64 h-64 bg-[#ff0033]/10 blur-[120px]
        rounded-full -translate-x-1/2 -translate-y-1/2"></div>

<script>
    document.addEventListener("mousemove", e => {
      const g = document.getElementById("cursorGlow");
      g.style.left = e.clientX + "px";
      g.style.top = e.clientY + "px";
    });

    function copyTags(t) { navigator.clipboard.writeText(t); }

    // SPLASH â€” PLAY ONCE PER TAB
    window.addEventListener("DOMContentLoaded", () => {
      const splash = document.getElementById("splash");
      if (sessionStorage.getItem("kurzoSplashPlayed")) {
        splash.remove();
        return;
      }
      sessionStorage.setItem("kurzoSplashPlayed", "true");
      setTimeout(() => {
        splash.classList.add("splash-hide");
        setTimeout(() => splash.remove(), 700);
      }, 1400);
    });
</script>

</body>
</html>
